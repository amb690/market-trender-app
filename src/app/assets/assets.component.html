<div id="search-active">
  <mat-form-field>
    <mat-label>Nombre/Símbolo</mat-label>
    <input matInput (keyup)="filtrar($event)" placeholder="buscar por nombre o símbolo">
  </mat-form-field>
</div>

<div *ngIf="loading" class="fluid-container d-flex justify-content-center" style="margin-left:auto; margin-right:auto;">
  <mat-spinner [diameter]="30"></mat-spinner>
</div>

<div class="mat-elevation-z0" id="search-table">
  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z0" id="tabla1">

    <ng-container matColumnDef="name">
      <th mat-icon svgIcon="thumbs-up" mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
      <td mat-cell *matCellDef="let asset"> {{asset.name}} </td>
    </ng-container>

    <ng-container matColumnDef="ticker">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Símbolo</th>
      <td mat-cell *matCellDef="let asset"> {{asset.ticker}} </td>
    </ng-container>

    <ng-container matColumnDef="ipoDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de oferta pública</th>
      <td mat-cell *matCellDef="let asset"> {{asset.ipoDate}} </td>
    </ng-container>

    <ng-container matColumnDef="country">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>País</th>
      <td mat-cell *matCellDef="let asset"> {{asset.country}} </td>
    </ng-container>

    <ng-container matColumnDef="exchange">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Bolsa</th>
      <td mat-cell *matCellDef="let asset"> {{asset.exchange}} </td>
    </ng-container>

    <ng-container matColumnDef="sector">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Sector</th>
      <td mat-cell *matCellDef="let asset"> {{asset.sector}} </td>
    </ng-container>

    <ng-container matColumnDef="strategybtn">
      <th mat-header-cell *matHeaderCellDef>Indicadores</th>
      <td mat-cell *matCellDef="let asset">
        <button title="{{'Indicadores técnicos de ' + asset.name}}" class="strategy-btn" [routerLink]="['/analytics', asset.ticker]" routerLinkActive="mat-accent">
          <mat-icon>bar_chart</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="deletebtn">
      <th mat-header-cell *matHeaderCellDef>Eliminar activo</th>
      <td mat-cell *matCellDef="let asset">
        <button title="{{'Eliminar ' + asset.name}}" class="delete-btn" (click)='delete(asset)' routerLinkActive="mat-accent">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columns"></tr>
    <tr mat-row *matRowDef="let row; columns: columns;"></tr>
  </table>
</div>
<div class="page-control">
  <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
</div>